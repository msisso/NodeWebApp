<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.5 -->
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="bower_components/ionicons/css/ionicons.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="bower_components/AdminLTE/dist/css/AdminLTE.min.css">
    <!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
   <!-- <link rel="stylesheet" href="../../dist/css/skins/_all-skins.min.css">-->
    </head>
<body>

<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">

    <!-- Main content -->
    <section class="content">
        <div class="row">
            <!-- left column -->
            <div class="col-md-6">
                <!-- general form elements -->

                <div class="box box-primary">
                    <div class="box-header with-border">
                        <h3 class="box-title">Advertise Update</h3>
                    </div><!-- /.box-header -->
                    <form role="form">
                        <div class="box-body">
                            <div class="form-group">
                                <label for="msgName">Advertise Name</label>
                                <input type="text" class="form-control" id="msgName" placeholder="Enter the name of your advertise">
                            </div>
                            <div class="form-group">
                                <label for="msgData">Advertise Data</label>
                                <input type="text" class="form-control" id="msgData" placeholder="Enter the content of your advertise">
                            </div>
                            <div class="form-group">
                                <label for="imageInput">Image input</label>
                                <input type="file" id="imageInput">
                            </div>
                        </div><!-- /.box-body -->

                        <div class="box-footer">
                            <button id="submit" type="submit" class="btn btn-primary">Submit</button>
                        </div>
                    </form>

                </div>

            </div><!--/.col (left) -->
            <!-- right column -->

        </div>   <!-- /.row -->
    </section><!-- /.content -->
</div><!-- /.content-wrapper -->

<!-- jQuery 2.1.4 -->
<script src="bower_components/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap 3.3.5 -->
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- FastClick -->
<!--<script src="../../plugins/fastclick/fastclick.min.js"></script>-->
<!-- AdminLTE App -->
<!--<script src="../../dist/js/app.min.js"></script>-->
<!-- AdminLTE for demo purposes -->
<!--<script src="../../dist/js/demo.js"></script>-->
<script src="/socket.io/socket.io.js"></script>
<script>



    $(document).ready(function(){
        var socket = io.connect('http://localhost:8080');

        socket.on('connect', function(data) {
            alert("connected");

        });

        $("#submit").click(function(e) {
            e.preventDefault();

            var x1 = $("#msgName").val();
            var x2 = $("#msgData").val();
            alert(x1 + " " + x2);
            $.post("/TestUpdate", {msgName: x1, msgData: x2},function(ad,err)
            {
                if(err == 'success')
                {
                    var id = window.location.search.substring(1).split('=')[1];
                    socket.emit('newAdCreated', id);
                }
            });
        });
    });
</script>
</body>
</html>